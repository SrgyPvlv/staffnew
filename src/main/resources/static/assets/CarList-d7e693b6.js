import{h as n}from"./http-common-5c6bef43.js";import{_ as v,r as C,o as i,c,a as e,w as g,v as f,F as h,e as b,f as u,t as a,g as y,h as x,n as k}from"./index-562621e9.js";class N{get(t){return n.get(`/cars/${t}`)}getAll(){return n.get("/cars")}create(t){return n.post("/cars",t)}update(t,_){return n.put(`/cars/${t}`,_)}delete(t){return n.delete(`/cars/${t}`)}findByNumberModel(t){return n.get(`/cars?filter=${t}`)}}const m=new N;const M={name:"cars-list",data(){return{cars:[],currentCar:null,currentIndex:-1,filter:""}},methods:{retrieveCars(){m.getAll().then(s=>{this.cars=s.data,console.log(s.data)}).catch(s=>{console.log(s)})},refreshList(){this.retrieveCars(),this.currentCar=null,this.currentIndex=-1,this.filter=""},setActiveCar(s,t){this.currentCar=s,this.currentIndex=s?t:-1},findByNumberModel(){m.findByNumberModel(this.filter).then(s=>{this.cars=s.data,this.currentCar=null,this.currentIndex=-1,console.log(s.data)}).catch(s=>{console.log(s)})}},mounted(){this.retrieveCars()}},B={class:"list row"},L={class:"col-md-6"},w={class:"input-group mb-3"},I={class:"input-group-append ms-3"},A={class:"input-group-append ms-3"},D={class:"list row"},V={class:"col-md-4"},S=e("h3",null," Список автомобилей ",-1),F={class:"col-md-12 outdiv shadow"},R={class:"col-md-12 indiv"},T={class:"list-group list-group-flush list-group-numbered"},z=["onClick"],E={class:"col-md-8"},P={key:0},U=e("h3",null," Автомобиль ",-1),j=e("label",null,[e("strong",null,"Номер:")],-1),q=e("label",null,[e("strong",null,"Модель:")],-1),G=e("label",null,[e("strong",null,"Водитель:")],-1),H=e("label",null,[e("strong",null,"Комментарий:")],-1),J={key:1},K=e("br",null,null,-1),O=e("p",null,"Выберите машину...",-1),Q=[K,O];function W(s,t,_,X,r,o){const p=C("RouterLink");return i(),c(h,null,[e("div",B,[e("div",L,[e("div",w,[g(e("input",{type:"text",class:"form-control",placeholder:"Поиск по номеру, модели","onUpdate:modelValue":t[0]||(t[0]=l=>r.filter=l)},null,512),[[f,r.filter]]),e("div",I,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:t[1]||(t[1]=(...l)=>o.findByNumberModel&&o.findByNumberModel(...l))},"Поиск")]),e("div",A,[e("button",{type:"button",class:"btn btn-outline-danger",onClick:t[2]||(t[2]=(...l)=>o.refreshList&&o.refreshList(...l))},"Сбросить")])])])]),e("div",D,[e("div",V,[S,e("div",F,[e("div",R,[e("ul",T,[(i(!0),c(h,null,b(r.cars,(l,d)=>(i(),c("li",{class:k(["list-group-item car",{active:d==r.currentIndex}]),key:d,onClick:Y=>o.setActiveCar(l,d)},a(l.carNumber),11,z))),128))])])])]),e("div",E,[r.currentCar?(i(),c("div",P,[U,e("div",null,[j,u(" "+a(r.currentCar.carNumber),1)]),e("div",null,[q,u(" "+a(r.currentCar.carModel!=null?r.currentCar.carModel.carModel:""),1)]),e("div",null,[G,u(" "+a(r.currentCar.employee!=null?r.currentCar.employee.name+", "+r.currentCar.employee.mobilePhone:""),1)]),e("div",null,[H,u(" "+a(r.currentCar.carComment),1)]),y(p,{to:"/cars/"+r.currentCar.id,class:"badge rounded-pill bg-info edit",style:{"margin-top":"15px"}},{default:x(()=>[u("Редактировать")]),_:1},8,["to"])])):(i(),c("div",J,Q))])])],64)}const ee=v(M,[["render",W]]);export{ee as default};
