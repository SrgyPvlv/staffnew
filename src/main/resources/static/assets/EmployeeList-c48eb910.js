import{h as u}from"./http-common-5c6bef43.js";import{_ as E,r as b,o as c,c as p,a as e,w as a,v as D,b as y,t as n,d as _,F as h,e as S,f as r,g as B,h as x,n as N,i as v}from"./index-562621e9.js";class G{get(o){return u.get(`/employees/${o}`)}getAll(){return u.get("/employees")}create(o){return u.post("/employees",o)}update(o,f){return u.put(`/employees/${o}`,f)}delete(o){return u.delete(`/employees/${o}`)}findByNameMobilePosition(o){return u.get(`/employees?filter=${o}`)}findByFactDivisionOrGroupeOrFunctionGroupOrderByNameAsc(o){return u.get(`/employees/factdepartment?filter=${o}`)}findByStaffDivisionOrGroupeOrFunctionGroupOrderByNameAsc(o){return u.get(`/employees/staffdepartment?filter=${o}`)}}const m=new G;const k={name:"employees-list",data(){return{employees:[],currentEmployee:null,currentIndex:-1,filter:"",factSelected:"Подразделение (факт)",staffSelected:"Подразделение (штат)"}},methods:{retrieveEmployees(){m.getAll().then(l=>{this.employees=l.data,console.log(l.data)}).catch(l=>{console.log(l)})},refreshList(){this.retrieveEmployees(),this.currentEmployee=null,this.currentIndex=-1,this.filter="",this.factSelected="Подразделение (факт)",this.staffSelected="Подразделение (штат)"},setActiveEmployee(l,o){this.currentEmployee=l,this.currentIndex=l?o:-1},findByNameMobilePosition(){m.findByNameMobilePosition(this.filter).then(l=>{this.employees=l.data,this.currentEmployee=null,this.currentIndex=-1,this.factSelected="Подразделение (факт)",this.staffSelected="Подразделение (штат)",console.log(l.data)}).catch(l=>{console.log(l)})},findByFactDepartment(){m.findByFactDivisionOrGroupeOrFunctionGroupOrderByNameAsc(this.factSelected).then(l=>{this.employees=l.data,this.currentEmployee=null,this.currentIndex=-1,this.staffSelected="Подразделение (штат)",console.log(l.data)}).catch(l=>{console.log(l)})},findByStaffDepartment(){m.findByStaffDivisionOrGroupeOrFunctionGroupOrderByNameAsc(this.staffSelected).then(l=>{this.employees=l.data,this.currentEmployee=null,this.currentIndex=-1,this.factSelected="Подразделение (факт)",console.log(l.data)}).catch(l=>{console.log(l)})}},mounted(){this.retrieveEmployees()}},w={class:"list row"},C={class:"col-md-8"},O={class:"input-group mb-3"},F={class:"input-group-append ms-2"},M={class:"input-group-append ms-3"},A={class:"input-group-append ms-3"},I={class:"dropdown"},L=e("button",{type:"button",class:"btn btn-outline-primary dropdown-toggle","data-bs-toggle":"dropdown"},"Подразделение",-1),V={class:"dropdown-menu customselect"},P=v('<option disabled style="font-weight:bold;">Подразделение (факт)</option><option value="Отдел эксплуатации радиоподсистемы">Отдел эксплуатации радиоподсистемы</option><option value="Аварийно-профилактическая группа">Аварийно-профилактическая группа</option><option value="ФГ Север">Функциональная группа Север</option><option value="ФГ Юг">Функциональная группа Юг</option><option value="ФГ Запад">Функциональная группа Запад</option><option value="ФГ Восток">Функциональная группа Восток</option><option value="Группа модернизации и расширения">Группа модернизации и расширения</option><option value="ФГ эксплуатации локальных радиоподсистем">Функциональная группа эксплуатации локальных радиоподсистем</option><option value="Группа эксплуатации РРЛ">Группа эксплуатации РРЛ</option><option value="Группа эксплуатации инфраструктуры объектов радиоподсистемы">Группа эксплуатации инфраструктуры объектов радиоподсистемы</option>',11),U=[P],R=v('<option disabled style="font-weight:bold;">Подразделение (штат)</option><option value="Отдел эксплуатации радиоподсистемы">Отдел эксплуатации радиоподсистемы</option><option value="Аварийно-профилактическая группа">Аварийно-профилактическая группа</option><option value="ФГ Север">Функциональная группа Север</option><option value="ФГ Юг">Функциональная группа Юг</option><option value="ФГ Запад">Функциональная группа Запад</option><option value="ФГ Восток">Функциональная группа Восток</option><option value="Группа модернизации и расширения">Группа модернизации и расширения</option><option value="ФГ эксплуатации локальных радиоподсистем">Функциональная группа эксплуатации локальных радиоподсистем</option><option value="Группа эксплуатации РРЛ">Группа эксплуатации РРЛ</option><option value="Группа эксплуатации инфраструктуры объектов радиоподсистемы">Группа эксплуатации инфраструктуры объектов радиоподсистемы</option>',11),T=[R],j={class:"list row"},z={class:"col-md-5"},q=e("h3",null," Список сотрудников ",-1),H={key:0,class:"text-primary"},J={key:1,class:"text-primary"},K={class:"col-md-12 outdiv shadow"},Q={class:"col-md-12 indiv"},W={class:"list-group list-group-flush list-group-numbered"},X=["onClick"],Y={class:"col-md-7"},Z={key:0},$=e("h3",null," Сотрудник ",-1),ee=e("label",null,[e("strong",null,"ФИО:")],-1),te=e("label",null,[e("strong",null,"Должность:")],-1),oe=e("label",null,[e("strong",null,"Подразделение (факт):")],-1),le=e("label",null,[e("strong",null,"Подразделение (по штату):")],-1),ne=e("label",null,[e("strong",null,"Мобильный телефон:")],-1),se=e("label",null,[e("strong",null,"Местный телефон:")],-1),re=e("label",null,[e("strong",null,"Логин:")],-1),ie=e("label",null,[e("strong",null,"E-mail:")],-1),ue=["href"],ce=e("label",null,[e("strong",null,"Табельный номер:")],-1),pe=e("label",null,[e("strong",null,"Дата рождения:")],-1),me=e("label",null,[e("strong",null,"Автомобиль:")],-1),de=e("label",null,[e("strong",null,"Комментарий:")],-1),ae={key:1},fe=e("br",null,null,-1),ye=e("p",null,"Выберите сотрудника...",-1),_e=[fe,ye];function he(l,o,f,ve,t,i){const g=b("RouterLink");return c(),p(h,null,[e("div",w,[e("div",C,[e("div",O,[a(e("input",{type:"text",class:"form-control",placeholder:"Поиск по ФИО, мобильному, должности","onUpdate:modelValue":o[0]||(o[0]=s=>t.filter=s)},null,512),[[D,t.filter]]),e("div",F,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:o[1]||(o[1]=(...s)=>i.findByNameMobilePosition&&i.findByNameMobilePosition(...s))},"Поиск")]),e("div",M,[e("button",{type:"button",class:"btn btn-outline-danger",onClick:o[2]||(o[2]=(...s)=>i.refreshList&&i.refreshList(...s))},"Сбросить")]),e("div",A,[e("div",I,[L,e("ul",V,[e("li",null,[a(e("select",{class:"form-select",onChange:o[3]||(o[3]=(...s)=>i.findByFactDepartment&&i.findByFactDepartment(...s)),"onUpdate:modelValue":o[4]||(o[4]=s=>t.factSelected=s)},U,544),[[y,t.factSelected]])]),e("li",null,[a(e("select",{class:"form-select",onChange:o[5]||(o[5]=(...s)=>i.findByStaffDepartment&&i.findByStaffDepartment(...s)),"onUpdate:modelValue":o[6]||(o[6]=s=>t.staffSelected=s)},T,544),[[y,t.staffSelected]])])])])])])])]),e("div",j,[e("div",z,[q,t.factSelected!="Подразделение (факт)"?(c(),p("p",H,n(t.factSelected),1)):_("",!0),t.staffSelected!="Подразделение (штат)"?(c(),p("p",J,n(t.staffSelected),1)):_("",!0),e("div",K,[e("div",Q,[e("ul",W,[(c(!0),p(h,null,S(t.employees,(s,d)=>(c(),p("li",{class:N(["list-group-item employee",{active:d==t.currentIndex}]),key:d,onClick:ge=>i.setActiveEmployee(s,d)},[r(n(s.name)+" ",1),e("sub",null,n(s.position.position),1)],10,X))),128))])])])]),e("div",Y,[t.currentEmployee?(c(),p("div",Z,[$,e("div",null,[ee,r(" "+n(t.currentEmployee.name),1)]),e("div",null,[te,r(" "+n(t.currentEmployee.position!=null?t.currentEmployee.position.position:""),1)]),e("div",null,[oe,r(" "+n(t.currentEmployee.factDepartment!=null&t.currentEmployee.factDepartment.division!=null?t.currentEmployee.factDepartment.division.division:"")+" "+n(t.currentEmployee.factDepartment!=null&t.currentEmployee.factDepartment.groupe!=null?"/ "+t.currentEmployee.factDepartment.groupe.groupe:"")+" "+n(t.currentEmployee.factDepartment!=null&t.currentEmployee.factDepartment.functionGroup!=null?"/ "+t.currentEmployee.factDepartment.functionGroup.functionGroup:""),1)]),e("div",null,[le,r(" "+n(t.currentEmployee.staffDepartment!=null&t.currentEmployee.staffDepartment.division!=null?t.currentEmployee.staffDepartment.division.division:"")+" "+n(t.currentEmployee.staffDepartment!=null&t.currentEmployee.staffDepartment.groupe!=null?"/ "+t.currentEmployee.staffDepartment.groupe.groupe:"")+" "+n(t.currentEmployee.staffDepartment!=null&t.currentEmployee.staffDepartment.functionGroup!=null?"/ "+t.currentEmployee.staffDepartment.functionGroup.functionGroup:""),1)]),e("div",null,[ne,r(" "+n(t.currentEmployee.mobilePhone),1)]),e("div",null,[se,r(" "+n(t.currentEmployee.localPhone),1)]),e("div",null,[re,r(" "+n(t.currentEmployee.login),1)]),e("div",null,[ie,r(),e("a",{href:`mailto:${t.currentEmployee.email}`},n(t.currentEmployee.email),9,ue)]),e("div",null,[ce,r(" "+n(t.currentEmployee.employeeId),1)]),e("div",null,[pe,r(" "+n(t.currentEmployee.birthday!=null?t.currentEmployee.birthday.split("-").reverse().join("."):""),1)]),e("div",null,[me,r(" "+n(t.currentEmployee.car!=null?t.currentEmployee.car.carNumber:"")+" "+n(t.currentEmployee.car!=null?", "+t.currentEmployee.car.carModel.carModel:"")+" "+n(t.currentEmployee.car!=null?", ***Комментарий: "+t.currentEmployee.car.carComment:""),1)]),e("div",null,[de,r(" "+n(t.currentEmployee.employeeComment),1)]),B(g,{to:"/employees/"+t.currentEmployee.id,class:"badge rounded-pill bg-info edit"},{default:x(()=>[r("Редактировать")]),_:1},8,["to"])])):(c(),p("div",ae,_e))])])],64)}const De=E(k,[["render",he]]);export{De as default};
